!function(o){"use strict";o(document).ready(function(){o("body.profile-php, body.user-edit-php, body.edit-tags-php, body.term-php").each(function(){new gdlrCoreHtmlOption(o(this))}),o(".gdlr-core-page-option-content").each(function(){var i=o(this).siblings(".gdlr-core-page-option-value"),e=new gdlrCoreHtmlOption(o(this));o("#post-preview, #publish, #save-post, .editor-post-publish-button, .editor-post-preview").click(function(){i.val(JSON.stringify(e.get_val()))}),o("#wpbody-content").on("click",".editor-post-publish-button, .editor-post-preview",function(){i.val(JSON.stringify(e.get_val()))});var t=o(this).find("#gdlr-core-page-option-tab-head"),a=o(this).find("#gdlr-core-page-option-tab-content");t.children(".gdlr-core-page-option-tab-head-item").click(function(){if(!o(this).hasClass("gdlr-core-active")){var t=o(this).attr("data-tab-slug");o(this).addClass("gdlr-core-active").siblings().removeClass("gdlr-core-active"),a.find('[data-tab-slug="'+t+'"]').fadeIn(200).siblings().css("display","none")}});var n=o(this).siblings('[name="page_option_security"]').val();o(this).siblings(".gdlr-core-page-option-head").on("click",".gdlr-core-page-option-head-save",function(){if(!o(this).hasClass("gdlr-core-now-loading")){var a=o(this).addClass("gdlr-core-now-loading"),t=o(this).attr("data-post-id");i.val(JSON.stringify(e.get_val())),o.ajax({type:"POST",url:o(this).attr("data-ajax-url"),data:{security:n,action:"gdlr_core_save_page_option_data",post_id:t,name:i.attr("name"),value:i.val()},dataType:"json",error:function(t,i,e){a.removeClass("gdlr-core-now-loading"),gdlr_core_alert_box({status:"failed",head:a.attr("data-failed-head"),message:a.attr("data-failed-message")}),console.log(t,i,e)},success:function(t){a.removeClass("gdlr-core-now-loading"),gdlr_core_alert_box({status:t.status,head:t.head,message:t.message})}})}})})})}(jQuery),function(s){"use strict";function i(t){if("undefined"!=typeof gdlr_core_tmce){void 0===window.gdlr_core_tmce_id?window.gdlr_core_tmce_id=1:window.gdlr_core_tmce_id++,function(){if("undefined"!=typeof tinymce){window.gdlr_core_tmce_id_removed;for(var t=1;t<window.gdlr_core_tmce_id;t++){var i="gdlr_core_tmce"+t,e=tinymce.get(i);e&&0==s("#wp-"+i+"-wrap").length&&e.remove()}}}();var i="gdlr_core_tmce"+window.gdlr_core_tmce_id;t.attr("data-tmce-id",i);var e=s(gdlr_core_tmce.replace(/gdlr_core_tmce/g,i));e.insertAfter(t);var a=t.html();if(0<a.length&&(e.hasClass("tmce-active")?e.find("textarea").val(a):e.hasClass("html-active")&&(void 0!==window.switchEditors?e.find("textarea").val(window.switchEditors._wp_Nop(a)):e.find("textarea").val(p(a)))),"undefined"!=typeof tinymce){var n=JSON.parse(JSON.stringify(tinyMCEPreInit.mceInit.gdlr_core_tmce));n.selector="#"+i,n.body_class=n.body_class.replace(/gdlr_core_tmce/g,i),n.setup=function(t){t.on("change",function(t){s(t.target.targetElm).trigger("gdlr_core_change")})};var o=tinymce.$("#wp-"+i+"-wrap");!o.hasClass("tmce-active")&&tinyMCEPreInit.qtInit.hasOwnProperty(i)||n.wp_skip_init||(o.hasClass("html-active")&&o.removeClass("html-active").addClass("tmce-active"),tinymce.init(n))}if("undefined"!=typeof quicktags){var l=JSON.parse(JSON.stringify(tinyMCEPreInit.qtInit.gdlr_core_tmce));l.id=i,quicktags(l),QTags._buttonsInit()}}}function a(t){var i=t.attr("data-tmce-id");return"undefined"==typeof tinymce?p(s("#"+i).val()):tinymce.$("#wp-"+i+"-wrap").hasClass("tmce-active")?tinymce.get(i).getContent():tinymce.$("#wp-"+i+"-wrap").hasClass("html-active")?window.switchEditors._wp_Autop(s("#"+i).val()):""}window.gdlrCoreHtmlOption=function(t){this.container=s(t),this.init()},gdlrCoreHtmlOption.prototype={init:function(){this.bind_input_format(),this.bind_image_uploader(),this.bind_font_picker(),this.bind_icon_selector(),this.bind_conditional(),this.rebind()},rebind:function(){var t=this;t.container.find(".gdlr-core-html-option-colorpicker").wpColorPicker(),t.init_conditional(),t.bind_tinymce(),t.bind_font_slider(),t.bind_import(),t.bind_export(),t.bind_datepicker(),t.container.find('[data-type="custom"]').each(function(){var t=s(this).children(".gdlr-core-html-option-custom-value").data("value"),i=s(this).children(".gdlr-core-html-option-custom-options").data("value");t&&s(this).data("value",t),i&&s(this).data("options",i),s(this).is('[data-item-type="skin-settings"]')?new n(s(this)):s(this).is('[data-item-type="fontupload"]')?new c(s(this)):s(this).is('[data-item-type="thumbnail-sizing"]')?new d(s(this)):s(this).is('[data-item-type="tabs"]')?new r(s(this)):s(this).is('[data-item-type="gallery"]')?new o(s(this)):s(this).is('[data-item-type="padding"]')?new e(s(this)):s(this).is('[data-item-type="key-value"]')&&new l(s(this))})},get_val:function(){var e={};return this.container.find("[data-slug]").each(function(){var t=s(this).attr("data-slug"),i=s(this).attr("data-type");"text"==i||"textarea"==i||"combobox"==i||"upload"==i||"colorpicker"==i||"font"==i||"multi-combobox"==i?e[t]=s(this).val():"checkbox"==i?e[t]=s(this).is(":checked")?"enable":"disable":"radioimage"==i?s(this).is(":checked")&&(e[t]=s(this).val()):"tinymce"==i?e[t]=a(s(this)):"custom"==i&&("tabs"==s(this).attr("data-item-type")&&s(this).trigger("update_data"),s(this).data("value")?s.isArray(s(this).data("value"))&&0==s(this).data("value").length?e[t]="":e[t]=s(this).data("value"):e[t]="")}),e},init_conditional:function(){this.container.find("[data-condition]").each(function(){var t=s(this).closest(".gdlr-core-html-option-item, .gdlr-core-html-option-tabs-field"),i=t.parent(),e=JSON.parse(s(this).attr("data-condition")),a=!0;for(var n in e){if(t.is(".gdlr-core-html-option-item"))var o=i.find('[data-slug="'+n+'"]');else if(t.is(".gdlr-core-html-option-tabs-field"))o=i.find('[data-tabs-slug="'+n+'"]');var l="";l=o.is('input[type="checkbox"]')?o.is(":checked")?"enable":"disable":o.is('input[type="radio"]')?o.filter(":checked").val():o.val(),a=a&&(l==e[n]||e[n].constructor===Array&&-1!=e[n].indexOf(l))}a?s(this).show():s(this).hide()})},bind_conditional:function(){this.container.on("change",'select, input[type="checkbox"], input[type="radio"]',function(){var o=s(this).closest(".gdlr-core-html-option-item, .gdlr-core-html-option-tabs-field"),l=o.parent();l.children("[data-condition]").each(function(){var t=JSON.parse(s(this).attr("data-condition")),i=!0;for(var e in t){if(o.is(".gdlr-core-html-option-item"))var a=l.find('[data-slug="'+e+'"]');else if(o.is(".gdlr-core-html-option-tabs-field"))a=l.find('[data-tabs-slug="'+e+'"]');var n="";n=a.is('input[type="checkbox"]')?a.is(":checked")?"enable":"disable":a.is('input[type="radio"]')?a.filter(":checked").val():a.val(),i=i&&(n==t[e]||t[e].constructor===Array&&-1!=t[e].indexOf(n))}i?s(this).slideDown(200):s(this).slideUp(200)})})},bind_input_format:function(){this.container.on("change","input[data-input-type]",function(){var t=s(this).val(),i=t.match(/^-?\d+/g),e="";"pixel"==s(this).attr("data-input-type")&&(e=0<t.length&&"%"==t.charAt(t.length-1)?"%":0<t.length&&"e"==t.charAt(t.length-2)&&"m"==t.charAt(t.length-1)?"em":"px"),void 0!==i&&null!=i&&s(this).val(parseInt(i[0])+e),s(this).trigger("gdlr_core_change")}),this.container.on("keydown","input[data-input-type]",function(t){var i=t.keyCode?t.keyCode:t.which;if(40==i||38==i){var e=s(this).val(),a=e.match(/^-?\d+/g),n="";"pixel"==s(this).attr("data-input-type")&&(n=0<e.length&&"%"==e.charAt(e.length-1)?"%":0<e.length&&"e"==e.charAt(e.length-2)&&"m"==e.charAt(e.length-1)?"em":"px"),void 0!==a&&null!=a&&(40==i?s(this).val(parseInt(a[0])-1+n):38==i&&s(this).val(parseInt(a[0])+1+n),s(this).trigger("gdlr_core_change"))}})},bind_image_uploader:function(){this.container.on("click",".gdlr-core-upload-image-button",function(){var i=s(this).closest(".gdlr-core-html-option-upload-appearance"),e=i.children(".gdlr-core-upload-image-container"),a=i.children(".gdlr-core-html-option-upload"),n=i.children(".gdlr-core-html-option-upload-image");if(s(this).hasClass("gdlr-core-upload-image-add"))var o=wp.media({title:html_option_val.text.upload_media,button:{text:html_option_val.text.choose_media},multiple:!1}).on("select",function(){var t=o.state().get("selection").first().toJSON();i.addClass("gdlr-core-active"),e.css("background-image","url("+t.url+")"),a.val(t.id),n.val(t.url),a.trigger("change")}).open();else s(this).hasClass("gdlr-core-upload-image-remove")&&(i.removeClass("gdlr-core-active"),e.css("background-image",""),a.val(""),n.val(""),a.trigger("change"))})},bind_datepicker:function(){this.container.find(".gdlr-core-html-option-datepicker").each(function(){s(this).datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0})})},bind_font_slider:function(){this.container.find(".gdlr-core-html-option-fontslider").each(function(){var e=s(this),t=s(this).val(),i=s('<div class="gdlr-core-html-option-fontslider-appearance" ></div>'),a=s(this).attr("data-min-value")?parseInt(s(this).attr("data-min-value")):6,n=s(this).attr("data-max-value")?parseInt(s(this).attr("data-max-value")):160,o="";"none"!=s(this).attr("data-suffix")&&(o=0<t.length&&"%"==t.charAt(t.length-1)?"%":0<t.length&&"e"==t.charAt(t.length-2)&&"m"==t.charAt(t.length-1)?"em":"px"),i.insertBefore(s(this)),i.slider({range:"min",min:a,max:n,value:parseInt(t),slide:function(t,i){e.val(i.value+o)}}),e.val(parseInt(e.val())+o),s(this).on("input change",function(){i.slider("value",parseInt(e.val()))})})},bind_import:function(){this.container.find(".gdlr-core-html-option-import").each(function(){var t=s(this).find("form"),i=s(this).find(".gdlr-core-html-option-import-file");s(this).find(".gdlr-core-html-option-import-button").click(function(){return 0<i.val().length?gdlr_core_confirm_box({success:function(){t.submit()}}):gdlr_core_alert_box({status:"failed",head:"File not found",message:"Please select the file before importing"}),!1})})},bind_export:function(){this.container.find(".gdlr-core-html-option-export").each(function(){var i=s(this),e=i.find(".gdlr-core-html-option-export-button");e.click(function(){var t={action:i.attr("data-action"),security:html_option_val.text.nonce};i.find(".gdlr-core-html-option-export-option").each(function(){t.options=s(this).val()}),s.ajax({type:"POST",url:html_option_val.text.ajaxurl,data:t,dataType:"json",beforeSend:function(t,i){e.addClass("gdlr-core-now-loading")},error:function(t,i,e){gdlr_core_alert_box({status:"failed",head:html_option_val.text.error_head,message:html_option_val.text.error_message}),console.log(t,i,e)},success:function(t){e.removeClass("gdlr-core-now-loading"),"success"==t.status?gdlr_core_download_file(t.url,t.filename):"success-2"==t.status?gdlr_core_download_content(t.content,t.filename):"failed"==t.status&&gdlr_core_alert_box({status:t.status,head:t.head,message:t.message})}})})})},bind_icon_selector:function(){this.container.on("change",".gdlr-core-html-option-icons-type-select",function(){var t=s(this).val();s(this).parent().siblings(".gdlr-core-html-option-icons-type-wrapper").children('[data-icon-type="'+t+'"]').fadeIn(200).addClass("gdlr-core-active").each(function(){s(this).children("i").css({display:"inline-block"})}).siblings().css({display:"none"}).removeClass("gdlr-core-active"),s(this).parent().siblings(".gdlr-core-html-option-icons-search").val(""),"none"==t?(s(this).parent().siblings(".gdlr-core-html-option-icons-search, .gdlr-core-html-option-icons-type-wrapper").slideUp(200),s(this).parent().siblings("[data-slug]").val("")):(s(this).parent().siblings(".gdlr-core-html-option-icons-search, .gdlr-core-html-option-icons-type-wrapper").slideDown(200),s(this).parent().siblings(".gdlr-core-html-option-icons-type-wrapper").slideDown(200).children(".gdlr-core-active").children(".gdlr-core-active").trigger("click"))}),this.container.on("input",".gdlr-core-html-option-icons-search",gdlr_core_debounce(function(){var t=s(this).val();t?s(this).siblings(".gdlr-core-html-option-icons-type-wrapper").children(".gdlr-core-active").children().css({display:"inline-block"}).not('[class*="'+t+'"]').css({display:"none"}):s(this).siblings(".gdlr-core-html-option-icons-type-wrapper").children(".gdlr-core-active").children().css({display:"inline-block"})},500)),this.container.on("click",".gdlr-core-html-option-icons-type-wrapper i",function(){var t=s(this).closest(".gdlr-core-html-option-icons-type-wrapper");t.find("i").removeClass("gdlr-core-active"),t.siblings("[data-slug]").val(s(this).attr("class")),s(this).addClass("gdlr-core-active")})},bind_font_picker:function(){this.container.on("change",".gdlr-core-html-option-font",function(){var t=s(this).parent(".gdlr-core-custom-combobox").siblings(".gdlr-core-html-option-font-display"),i=t.attr("data-base-url")+"&font-family="+s(this).val();t.attr("src",i)})},bind_tinymce:function(){"undefined"!=typeof html_option_val&&this.container.find(".gdlr-core-html-option-tinymce").each(function(){i(s(this))})}};var e=function(t){this.container=t,this.values=t.data("value"),this.options=t.data("options"),this.init()};e.prototype={init:function(){var i=this,t=s('<div class="gdlr-core-html-option-padding" ></div>'),e=!i.container.closest(".gdlr-core-html-option-item").hasClass("gdlr-core-no-link");for(var a in void 0!==i.options&&0!=i.options.length||(i.options=["top","right","bottom","left"]),i.options){var n=s('<input class="gdlr-core-html-option-padding-input" />').attr("data-padding-slug",i.options[a]);this.container.attr("data-input-type")&&n.attr("data-input-type",this.container.attr("data-input-type")),void 0!==i.values&&void 0!==i.values[i.options[a]]&&n.val(i.values[i.options[a]]),t.append(s('<div class="gdlr-core-html-option-padding-item" ></div>').append(n).append("<span>"+i.options[a]+"</span>"))}if(e){var o="link";void 0!==i.values&&void 0!==i.values.settings&&(o=i.values.settings);var l=s('<div class="gdlr-core-html-option-padding-settings" >\t\t\t\t\t\t<i class="fa fa-link" data-padding-type="link" ></i><i class="fa fa-unlink" data-padding-type="unlink" ></i>\t\t\t\t\t\t<input type="hidden" value="'+o+'" data-padding-slug="settings" />\t\t\t\t\t</div>');l.find('[data-padding-type="'+o+'"]').addClass("gdlr-core-active"),l.find("[data-padding-type]").click(function(){s(this).hasClass("gdlr-core-active")||(o=s(this).attr("data-padding-type"),s(this).addClass("gdlr-core-active").siblings("[data-padding-type]").removeClass("gdlr-core-active"),s(this).siblings("[data-padding-slug]").val(o),i.update_data())}),t.append(l)}t.on("input change gdlr_core_change","input",function(t){"link"==o&&s(this).closest(".gdlr-core-html-option-padding-item").siblings(".gdlr-core-html-option-padding-item").find(" [data-padding-slug]").val(s(this).val()),i.update_data()}),i.container.append(t)},update_data:function(){var t=this;t.values={},t.container.find("[data-padding-slug]").each(function(){t.values[s(this).attr("data-padding-slug")]=s(this).val()}),t.container.data("value",t.values)}};var n=function(t){this.container=t,this.values=t.data("value"),this.input_name=s('<input class="gdlr-core-html-option-text" placeholder="'+html_option_val.skin.input+'" />'),this.input_submit=s('<div class="gdlr-core-html-option-skin-input-add" ></div>'),this.skin_container=s('<div class="gdlr-core-html-option-skin-container clearfix" ></div>'),this.template=s('<div class="gdlr-core-html-option-skin-template" >\t\t\t\t<div class="gdlr-core-html-option-skin-head" >\t\t\t\t\t<input type="hidden" data-skin-slug="name" >\t\t\t\t\t<div class="gdlr-core-html-option-skin-name" ></div>\t\t\t\t\t<div class="gdlr-core-html-option-skin-remove" ></div>\t\t\t\t</div>\t\t\t</div>');var i=t.data("options"),e=s('<div class="gdlr-core-html-option-skin-item" ></div>').appendTo(this.template);for(var a in i)void 0!==i[a].type&&"title"==i[a].type?e.append(s('<div class="gdlr-core-html-option-skin-item-section-title" ></div>').append(i[a].title)):e.append(s('<div class="gdlr-core-html-option-skin-item-content"></div>').append(s('<div class="gdlr-core-html-option-skin-item-title" ></div>').append(i[a].title)).append(s('<input type="text" class="gdlr-core-html-option-skin-item-color" />').attr({"data-skin-slug":a,"data-default":i[a].default}).val(i[a].default)));this.init()};n.prototype={init:function(){var t=this;for(var i in s('<div class="gdlr-core-html-option-skin-input-wrapper clearfix" ></div>').append(s('<div class="gdlr-core-html-option-skin-input" >').append(t.input_name).append(t.input_submit)).append(s('<div class="gdlr-core-html-option-item-description" ></div>').html(html_option_val.skin.description)).appendTo(t.container),t.container.append(t.skin_container),t.values)t.skin_container.append(t.get_template(t.values[i]));t.bind_submit(),t.bind_head_button()},bind_submit:function(){var e=this;e.input_submit.click(function(){var t=e.input_name.val();if(0<t.length){for(var i in e.values)if(e.values[i].name==t)return void gdlr_core_alert_box({status:"failed",message:html_option_val.skin.duplicate_input,duration:2500});e.input_name.val(""),e.create_skin(t)}else gdlr_core_alert_box({status:"failed",message:html_option_val.skin.empty_input,duration:2e3})})},bind_head_button:function(){var i=this;i.container.on("click",".gdlr-core-html-option-skin-remove",function(){var t=s(this);return gdlr_core_confirm_box({success:function(){t.closest(".gdlr-core-html-option-skin-template").slideUp(200,function(){s(this).remove(),i.update_data()})}}),!1}),i.container.on("click",".gdlr-core-html-option-skin-head",function(){s(this).closest(".gdlr-core-html-option-skin-head").siblings(".gdlr-core-html-option-skin-item").slideToggle(200)})},create_skin:function(t){var i=this,e=i.get_template({name:t});i.skin_container.append(e),e.find(".gdlr-core-html-option-skin-item").css({display:"block"}),e.css("display","none").slideDown(200,function(){i.update_data()})},get_template:function(t){var e=this,i=e.template.clone();for(var a in t)"name"==a?i.find('[data-skin-slug="'+a+'"]').val(t[a]).siblings(".gdlr-core-html-option-skin-name").html(t[a]):i.find('[data-skin-slug="'+a+'"]').val(t[a]);return i.find(".gdlr-core-html-option-skin-item-color").wpColorPicker({change:gdlr_core_debounce(function(t,i){e.update_data()},500),clear:function(){e.update_data()}}),i},update_data:function(){var i=this;i.values=[],i.skin_container.find(".gdlr-core-html-option-skin-template").each(function(){var t={};s(this).find("[data-skin-slug]").each(function(){t[s(this).attr("data-skin-slug")]=s(this).val()}),i.values.push(t)}),i.container.data("value",i.values)}};var o=function(t){var i=this;i.container=t,i.values=t.data("value"),i.options=t.data("options"),i.gallery_container=s('<div class="gdlr-core-html-option-gallery-container" ></div>'),i.add_button=s('<div class="gdlr-core-html-option-gallery-add" ><i class="icon_plus" ></i></div>'),i.template=s('<div class="gdlr-core-html-option-gallery-template">\t\t\t\t<img class="gdlr-core-html-option-gallery-template-thumbnail" src="" alt="" /> \t\t\t\t<div class="gdlr-core-html-option-gallery-template-remove" ><i class="fa fa-remove" ></i></div>\t\t\t</div>'),i.init()};o.prototype={init:function(){var e=this;for(var t in e.container.append(e.add_button).append(e.gallery_container),e.values)e.add_template(e.values[t]);e.bind_add(),e.bind_gallery_edit(),e.gallery_container.on("click",".gdlr-core-html-option-gallery-template-remove",function(){return s(this).closest(".gdlr-core-html-option-gallery-template").fadeOut(200,function(){s(this).remove(),e.update_data()}),!1}),e.gallery_container.sortable({tolerance:"pointer",stop:function(t,i){e.update_data()}})},bind_add:function(){var a=this;a.add_button.click(function(){var e=wp.media({title:html_option_val.text.upload_media,button:{text:html_option_val.text.choose_media},multiple:"add"}).on("select",function(){var t=e.state().get("selection").toJSON();for(var i in t)void 0!==t[i].sizes.thumbnail?a.add_template({id:t[i].id,thumbnail:t[i].sizes.thumbnail.url}):a.add_template({id:t[i].id,thumbnail:t[i].sizes.full.url});a.update_data()}).open()})},bind_gallery_edit:function(){var a=this;a.gallery_container.on("click",".gdlr-core-html-option-gallery-template",function(){var i=s(this),e=s('<div class="gdlr-core-html-option-gallery-loading" ></div>');s.ajax({type:"POST",url:html_option_val.text.ajaxurl,data:{action:"gdlr_get_gallery_options",security:html_option_val.text.nonce,options:a.options,value:s(this).data("value")},dataType:"json",beforeSend:function(t,i){e.css({display:"none"}).appendTo("body"),e.fadeIn(150)},error:function(t,i,e){gdlr_core_alert_box({status:"failed",head:html_option_val.text.error_head,message:html_option_val.text.error_message}),console.log(t,i,e)},success:function(t){e.remove(),"success"==t.status?a.gallery_lb_edit(t.option_content,i):"failed"==t.status&&gdlr_core_alert_box({status:t.status,head:t.head,message:t.message})}})})},gallery_lb_edit:function(t,i){var e=this,a=s('<div class="gdlr-core-gallery-lightbox-content"></div>');s("body").append(a),a.append(t),a.css({opacity:0}).animate({opacity:1},400);var n=new gdlrCoreHtmlOption(a);a.find("#gdlr-core-gallery-lb-head-close").click(function(){a.fadeOut(200,function(){s(this).remove()})}),a.find("#gdlr-core-gallery-lb-options-save").click(function(){var t=s.extend(i.data("value"),n.get_val());i.data("value",t),e.update_data(),a.fadeOut(200,function(){s(this).remove()})})},add_template:function(t){var i=this.template.clone();i.data("value",t),i.find(".gdlr-core-html-option-gallery-template-thumbnail").attr("src",t.thumbnail),this.gallery_container.append(i)},update_data:function(){var t=this;t.values=[],t.gallery_container.find(".gdlr-core-html-option-gallery-template").each(function(){t.values.push(s(this).data("value"))}),t.container.data("value",t.values)}};var l=function(t){var i=this;i.container=t,i.values=t.data("value"),i.tab_container=s('<div class="gdlr-core-html-option-key-value-container" >'),i.add_button=s('<div class="gdlr-core-html-option-key-value-add" ></div>'),i.item_template=s('<div class="gdlr-core-html-option-key-value-template" >\t\t\t\t<div class="gdlr-core-html-option-key-value-wrap clearfix" >\t\t\t\t\t<div class="gdlr-core-html-option-key-value-first">\t\t\t\t\t\t<input type="text" class="gdlr-core-html-option-key-value-key" data-key-value-slug="key" placeholder="Key" />\t\t\t\t\t</div>\t\t\t\t\t<div class="gdlr-core-html-option-key-value-second">\t\t\t\t\t\t<input type="text" class="gdlr-core-html-option-key-value-value" data-key-value-slug="value" placeholder="Value" />\t\t\t\t\t</div>\t\t\t\t\t<div class="gdlr-core-html-option-key-value-remove"></div>\t\t\t\t</div>\t\t\t</div>'),i.init()};l.prototype={init:function(){var e=this;if(e.container.append(e.tab_container),e.container.closest(".gdlr-core-html-option-item-input").siblings(".gdlr-core-html-option-item-title").append(e.add_button),e.bind_add(),e.values&&0<e.values.length)for(var t in e.values)e.tab_container.append(e.get_template(e.values[t]));e.tab_container.sortable({tolerance:"pointer",stop:function(t,i){e.update_data()}}),e.container.on("click",".gdlr-core-html-option-key-value-remove",function(){s(this).closest(".gdlr-core-html-option-key-value-template").slideUp(200,function(){s(this).remove(),e.update_data()})}),e.container.on("input change",'input[type="text"]',gdlr_core_debounce(function(){e.update_data()},500))},bind_add:function(){var i=this;i.add_button.click(function(){var t=i.get_template();i.tab_container.append(t),t.css({display:"none"}).slideDown(200),i.update_data()})},get_template:function(t){var i=this.item_template.clone();for(var e in t)i.find('[data-key-value-slug="'+e+'"]').each(function(){s(this).val(t[e])});return i},update_data:function(){var i=this;i.values=[],i.tab_container.find(".gdlr-core-html-option-key-value-template").each(function(){var t={};s(this).find("[data-key-value-slug]").each(function(){t[s(this).attr("data-key-value-slug")]=s(this).val()}),i.values.push(t)}),i.container.data("value",i.values)}};var r=function(t){var i=this;i.container=t,i.values=t.data("value"),i.tabs_container=s('<div class="gdlr-core-html-option-tabs-container" ></div>'),i.add_button=s('<div class="gdlr-core-html-option-tabs-add"></div>'),i.template={text:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<input type="text" class="gdlr-core-html-option-tabs-input gdlr-core-html-option-text" data-tabs-slug="" >\t\t\t</div>',textarea:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<textarea class="gdlr-core-html-option-tabs-input gdlr-core-html-option-textarea" data-tabs-slug="" ></textarea>\t\t\t</div>',tmce:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<div class="gdlr-core-html-option-tinymce" data-type="tinymce" data-tabs-slug="" ></div>\t\t\t</div>',combobox:'<div class="gdlr-core-html-option-tabs-field clearfix" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<div class="gdlr-core-custom-combobox" >\t\t\t\t\t<select class="gdlr-core-html-option-combobox" data-type="combobox" data-tabs-slug="" ></select>\t\t\t\t</div>\t\t\t</div>',colorpicker:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<input type="text" class="gdlr-core-html-option-tabs-colorpicker gdlr-core-html-option-colorpicker" data-tabs-slug="" >\t\t\t</div>',checkbox:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<label>\t\t\t\t\t<input type="checkbox" class="gdlr-core-html-option-checkbox" data-tabs-slug="" checked="checked">\t\t\t\t\t<div class="gdlr-core-html-option-checkbox-appearance gdlr-core-noselect">\t\t\t\t\t\t<span class="gdlr-core-checkbox-button gdlr-core-on">'+html_option_val.tabs.tab_checkbox_on+'</span>\t\t\t\t\t\t<span class="gdlr-core-checkbox-separator"></span>\t\t\t\t\t\t<span class="gdlr-core-checkbox-button gdlr-core-off">'+html_option_val.tabs.tab_checkbox_off+"</span>\t\t\t\t\t</div>\t\t\t\t</label>\t\t\t</div>",upload:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<div class="gdlr-core-html-option-upload-appearance" >\t\t\t\t\t<input type="hidden" class="gdlr-core-html-option-upload" data-type="upload" data-tabs-slug="" />\t\t\t\t\t<input type="hidden" class="gdlr-core-html-option-upload-image" data-type="upload-img" data-tabs-slug="" />\t\t\t\t\t<div class="gdlr-core-upload-image-container" style="" ></div>\t\t\t\t\t<div class="gdlr-core-upload-image-overlay" >\t\t\t\t\t\t<div class="gdlr-core-upload-image-button-hover">\t\t\t\t\t\t\t<span class="gdlr-core-upload-image-button gdlr-core-upload-image-add"><i class="icon_plus" ></i></span>\t\t\t\t\t\t\t<span class="gdlr-core-upload-image-button gdlr-core-upload-image-remove"><i class="icon_minus-06" ></i></span>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>'},i.item_template=s('<div class="gdlr-core-html-option-tabs-template" >\t\t\t\t<div class="gdlr-core-html-option-tabs-template-title" >\t\t\t\t\t<span class="gdlr-core-head" >'+html_option_val.tabs.title_text+'</span>\t\t\t\t\t<div class="gdlr-core-html-option-tabs-remove"></div>\t\t\t\t</div>\t\t\t</div>');var e=t.data("options"),a=s('<div class="gdlr-core-html-option-tabs-template-content" ></div>');for(var n in e){var o=s(i.template[e[n].type]);o.find("[data-tabs-slug]").each(function(){if(void 0!==e[n]["data-input-type"]&&s(this).attr("data-input-type",e[n]["data-input-type"]),"upload-img"==s(this).attr("data-type"))s(this).attr("data-tabs-slug",n+"-img");else if(s(this).attr("data-tabs-slug",n),"combobox"==s(this).attr("data-type")&&void 0!==e[n].options)for(var t in e[n].options){var i=s("<option></option>").attr("value",t).html(e[n].options[t]);s(this).append(i)}}),"checkbox"==e[n].type&&"disable"==e[n].default&&o.find('input[type="checkbox"]').prop("checked",!1),o.find(".gdlr-core-html-option-tabs-input-title").html(e[n].title),void 0!==e[n].condition&&o.attr("data-condition",JSON.stringify(e[n].condition)),a.append(o)}i.item_template.append(a),i.init()};r.prototype={init:function(){var a=this;if(a.container.append(a.tabs_container),a.container.closest(".gdlr-core-html-option-item-input").siblings(".gdlr-core-html-option-item-title").append(a.add_button),a.values&&0<a.values.length){for(var t in a.values)a.tabs_container.append(a.get_template(a.values[t]));a.tabs_container.find(".gdlr-core-html-option-colorpicker").wpColorPicker({change:gdlr_core_debounce(function(t,i){a.update_data()},500)}),a.tabs_container.find(".gdlr-core-html-option-tinymce").each(function(){i(s(this))}),a.tabs_container.find('select, input[type="checkbox"], input[type="radio"]').trigger("change")}a.tabs_container.sortable({tolerance:"pointer",stop:function(t,i){a.update_data()}}),a.bind_add(),a.container.on("click",".gdlr-core-html-option-tabs-remove",function(){s(this).closest(".gdlr-core-html-option-tabs-template").slideUp(200,function(){s(this).remove(),a.update_data()})}),a.container.on("click",".gdlr-core-html-option-tabs-template-title",function(){s(this).siblings(".gdlr-core-html-option-tabs-template-content").slideToggle(200)}),a.container.on("input change gdlr_core_change",'input[type="text"], textarea, select',gdlr_core_debounce(function(){if("title"==s(this).attr("data-tabs-slug")||"sub-title"==s(this).attr("data-tabs-slug")){var t=s(this).closest(".gdlr-core-html-option-tabs-template-content"),i=t.find('[data-tabs-slug="title"]').val(),e=t.find('[data-tabs-slug="sub-title"]').val();void 0===e&&(e=""),t.siblings(".gdlr-core-html-option-tabs-template-title").children(".gdlr-core-head").html(i+"<span>"+e+"</span>")}a.update_data()},500)),a.container.on("change",'input[type="checkbox"], input[type="hidden"], .gdlr-core-html-option-tinymce',function(){a.update_data()}),a.container.on("update_data",function(){a.update_data()})},bind_add:function(){var e=this;e.add_button.click(function(){var t=e.get_template();e.tabs_container.append(t),t.find(".gdlr-core-html-option-colorpicker").wpColorPicker({change:gdlr_core_debounce(function(t,i){e.update_data()},500)}),t.find(".gdlr-core-html-option-tinymce").each(function(){i(s(this))}),t.find('select, input[type="checkbox"], input[type="radio"]').trigger("change"),t.find(".gdlr-core-html-option-tabs-template-content").css({display:"block"}),t.css({display:"none"}).slideDown(200),e.update_data()})},get_template:function(t){var i=this.item_template.clone();for(var e in t)i.find('[data-tabs-slug="'+e+'"]').each(function(){s(this).is('input[type="checkbox"]')?"enable"==t[e]?s(this).prop("checked",!0):s(this).prop("checked",!1):"upload-img"==s(this).attr("data-type")?(s(this).val(t[e]),s(this).closest(".gdlr-core-html-option-upload-appearance").addClass("gdlr-core-active"),s(this).siblings(".gdlr-core-upload-image-container").css("background-image","url("+t[e]+")")):s(this).is(".gdlr-core-html-option-tinymce")?s(this).html(t[e]):s(this).val(t[e])});var a=void 0===t||void 0===t.title?"":t.title,n=void 0===t||void 0===t["sub-title"]?"":t["sub-title"];return void 0===n&&(n=""),""==a&&""==n||i.find(".gdlr-core-html-option-tabs-template-title").children(".gdlr-core-head").html(a+"<span>"+n+"</span>"),i},update_data:function(){var i=this;i.values=[],i.tabs_container.find(".gdlr-core-html-option-tabs-template").each(function(){var t={};s(this).find("[data-tabs-slug]").each(function(){s(this).is('input[type="checkbox"]')?t[s(this).attr("data-tabs-slug")]=s(this).is(":checked")?"enable":"disable":s(this).is(".gdlr-core-html-option-tinymce")?t[s(this).attr("data-tabs-slug")]=a(s(this)):t[s(this).attr("data-tabs-slug")]=s(this).val()}),i.values.push(t)}),i.container.data("value",i.values)}};var d=function(t){this.container=t,this.values=t.data("value"),this.input_fields=s('<div class="gdlr-core-html-option-thumbnail-sizing-input-wrapper" >\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-input-name" >\t\t\t\t\t<span class="gdlr-core-html-option-thumbnail-sizing-input-title" >'+html_option_val.thumbnail_sizing.name+'</span>\t\t\t\t\t<input class="gdlr-core-html-option-thumbnail-sizing-input gdlr-core-html-option-text" data-thumbnail-sizing-slug="name" >\t\t\t\t</div>\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-input-options" >\t\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-input-width" >\t\t\t\t\t\t<span class="gdlr-core-html-option-thumbnail-sizing-input-title" >'+html_option_val.thumbnail_sizing.width+'</span>\t\t\t\t\t\t<input class="gdlr-core-html-option-thumbnail-sizing-input gdlr-core-html-option-text" data-thumbnail-sizing-slug="width" >\t\t\t\t\t</div>\t\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-input-height" >\t\t\t\t\t\t<span class="gdlr-core-html-option-thumbnail-sizing-input-title" >'+html_option_val.thumbnail_sizing.height+'</span>\t\t\t\t\t\t<input class="gdlr-core-html-option-thumbnail-sizing-input gdlr-core-html-option-text" data-thumbnail-sizing-slug="height" >\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>'),this.input_submit=s('<div class="gdlr-core-html-option-thumbnail-sizing-input-add" >'+html_option_val.thumbnail_sizing.add+"</div>").appendTo(this.input_fields),this.input_fields.append('<div class="gdlr-core-html-option-thumbnail-sizing-input-description" >'+html_option_val.thumbnail_sizing.description+"</div>"),this.thumbnail_sizing_container=s('<div class="gdlr-core-html-option-thumbnail-sizing-container clearfix" ></div>'),this.template=s('<div class="gdlr-core-html-option-thumbnail-sizing-template" >\t\t\t\t<input type="hidden" data-thumbnail-sizing-slug="name" >\t\t\t\t<input type="hidden" data-thumbnail-sizing-slug="width" >\t\t\t\t<input type="hidden" data-thumbnail-sizing-slug="height" >\t\t\t\t<input type="hidden" data-thumbnail-sizing-slug="hard-crop" >\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-name" ></div>\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-remove" ></div>\t\t\t</div>'),this.init()};d.prototype={init:function(){var t=this;for(var i in t.container.append(t.thumbnail_sizing_container),t.values)t.thumbnail_sizing_container.append(t.get_template(t.values[i]));t.container.append(this.input_fields),t.bind_submit(),t.bind_remove_button()},bind_submit:function(){var e=this;e.input_submit.click(function(){var t={},i=!0;e.input_fields.find("[data-thumbnail-sizing-slug]").each(function(){""!=s(this).val().trim()?"width"==s(this).attr("data-thumbnail-sizing-slug")||"height"==s(this).attr("data-thumbnail-sizing-slug")?t[s(this).attr("data-thumbnail-sizing-slug")]=parseInt(s(this).val()):t[s(this).attr("data-thumbnail-sizing-slug")]=s(this).val():i=!1}),i?e.create_option(t):gdlr_core_alert_box({status:"failed",message:html_option_val.thumbnail_sizing.empty_input,duration:2e3})})},bind_remove_button:function(){var i=this;i.container.on("click",".gdlr-core-html-option-thumbnail-sizing-remove",function(){var t=s(this);return gdlr_core_confirm_box({success:function(){t.closest(".gdlr-core-html-option-thumbnail-sizing-template").slideUp(200,function(){s(this).remove(),i.update_data()})}}),!1})},create_option:function(t){var i=this,e=i.get_template(t);i.thumbnail_sizing_container.append(e),e.css("display","none").slideDown(200,function(){i.update_data()})},get_template:function(t){var i=this.template.clone();for(var e in t)i.find('[data-thumbnail-sizing-slug="'+e+'"]').val(t[e]);return i.find(".gdlr-core-html-option-thumbnail-sizing-name").html(t.name+'<span class="gdlr-core-tail" >'+t.width+"*"+t.height+"px</span>"),i},update_data:function(){var i=this;i.values=[],i.thumbnail_sizing_container.find(".gdlr-core-html-option-thumbnail-sizing-template").each(function(){var t={};s(this).find("[data-thumbnail-sizing-slug]").each(function(){t[s(this).attr("data-thumbnail-sizing-slug")]=s(this).val()}),i.values.push(t)}),i.container.data("value",i.values)}};var c=function(t){this.container=t,this.values=t.data("value"),this.add_button=s('<div class="gdlr-core-html-option-font-upload-add"></div>'),this.font_none=s('<div class="gdlr-core-html-option-font-upload-none" ></div>').html(html_option_val.fontupload.none),this.font_container=s('<div class="gdlr-core-html-option-font-upload-container" ></div>'),this.template=s('<div class="gdlr-core-html-option-font-upload-template" >\t\t\t\t<div class="gdlr-core-html-option-font-upload-remove" ></div>\t\t\t\t<div class="gdlr-core-html-option-font-upload-field" >\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-title">'+html_option_val.fontupload.font_name+'</div>\t\t\t\t\t<input class="gdlr-core-html-option-font-upload-title gdlr-core-html-option-text" placeholder="'+html_option_val.fontupload.font_name_p+'" data-fontupload-slug="name" />\t\t\t\t</div>\t\t\t\t<div class="gdlr-core-html-option-font-upload-field" >\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-title">'+html_option_val.fontupload.eot+'</div>\t\t\t\t\t<input class="gdlr-core-html-option-font-upload-title gdlr-core-html-option-text" data-fontupload-slug="eot" />\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-button">'+html_option_val.fontupload.button+'</div>\t\t\t\t</div>\t\t\t\t<div class="gdlr-core-html-option-font-upload-field" >\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-title">'+html_option_val.fontupload.ttf+'</div>\t\t\t\t\t<input class="gdlr-core-html-option-font-upload-title gdlr-core-html-option-text" data-fontupload-slug="ttf" />\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-button">'+html_option_val.fontupload.button+"</div>\t\t\t\t</div>\t\t\t</div>"),this.init()};function p(t){var i="blockquote|ul|ol|li|dl|dt|dd|table|thead|tbody|tfoot|tr|th|td|h[1-6]|fieldset|figure",e=i+"|div|p",a=i+"|pre",n=!1,o=!1,l=[];return t?(-1===t.indexOf("<script")&&-1===t.indexOf("<style")||(t=t.replace(/<(script|style)[^>]*>[\s\S]*?<\/\1>/g,function(t){return l.push(t),"<wp-preserve>"})),-1!==t.indexOf("<pre")&&(n=!0,t=t.replace(/<pre[^>]*>[\s\S]+?<\/pre>/g,function(t){return(t=(t=t.replace(/<br ?\/?>(\r\n|\n)?/g,"<wp-line-break>")).replace(/<\/?p( [^>]*)?>(\r\n|\n)?/g,"<wp-line-break>")).replace(/\r?\n/g,"<wp-line-break>")})),-1!==t.indexOf("[caption")&&(o=!0,t=t.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(t){return t.replace(/<br([^>]*)>/g,"<wp-temp-br$1>").replace(/[\r\n\t]+/,"")})),-1!==(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(new RegExp("\\s*</("+e+")>\\s*","g"),"</$1>\n")).replace(new RegExp("\\s*<((?:"+e+")(?: [^>]*)?)>","g"),"\n<$1>")).replace(/(<p [^>]+>.*?)<\/p>/g,"$1</p#>")).replace(/<div( [^>]*)?>\s*<p>/gi,"<div$1>\n\n")).replace(/\s*<p>/gi,"")).replace(/\s*<\/p>\s*/gi,"\n\n")).replace(/\n[\s\u00a0]+\n/g,"\n\n")).replace(/(\s*)<br ?\/?>\s*/gi,function(t,i){return i&&-1!==i.indexOf("\n")?"\n\n":"\n"})).replace(/\s*<div/g,"\n<div")).replace(/<\/div>\s*/g,"</div>\n")).replace(/\s*\[caption([^\[]+)\[\/caption\]\s*/gi,"\n\n[caption$1[/caption]\n\n")).replace(/caption\]\n\n+\[caption/g,"caption]\n\n[caption")).replace(new RegExp("\\s*<((?:"+a+")(?: [^>]*)?)\\s*>","g"),"\n<$1>")).replace(new RegExp("\\s*</("+a+")>\\s*","g"),"</$1>\n")).replace(/<((li|dt|dd)[^>]*)>/g," \t<$1>")).indexOf("<option")&&(t=(t=t.replace(/\s*<option/g,"\n<option")).replace(/\s*<\/select>/g,"\n</select>")),-1!==t.indexOf("<hr")&&(t=t.replace(/\s*<hr( [^>]*)?>\s*/g,"\n\n<hr$1>\n\n")),-1!==t.indexOf("<object")&&(t=t.replace(/<object[\s\S]+?<\/object>/g,function(t){return t.replace(/[\r\n]+/g,"")})),t=(t=(t=(t=t.replace(/<\/p#>/g,"</p>\n")).replace(/\s*(<p [^>]+>[\s\S]*?<\/p>)/g,"\n$1")).replace(/^\s+/,"")).replace(/[\s\u00a0]+$/,""),n&&(t=t.replace(/<wp-line-break>/g,"\n")),o&&(t=t.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")),l.length&&(t=t.replace(/<wp-preserve>/g,function(){return l.shift()})),t):""}c.prototype={init:function(){var t=this;if(t.container.closest(".gdlr-core-html-option-item-input").siblings(".gdlr-core-html-option-item-title").append(t.add_button),t.container.append(t.font_container),t.font_container.append(t.font_none),t.values&&0<t.values.length)for(var i in t.font_none.css("display","none"),t.values)this.font_container.append(this.get_template(t.values[i]));t.bind_add(),t.bind_remove(),t.font_container.on("change","input[data-fontupload-slug]",function(){t.update_data()})},bind_add:function(){var i=this;i.add_button.click(function(){var t=i.get_template();i.font_none.slideUp(200),i.font_container.append(t),t.css("display","none").slideDown(200),i.update_data()})},bind_remove:function(){var t=this;t.font_container.on("click",".gdlr-core-html-option-font-upload-remove",function(){(!t.values||t.values.length<=1)&&t.font_none.slideDown(200),s(this).closest(".gdlr-core-html-option-font-upload-template").slideUp(200,function(){s(this).remove(),t.update_data()})})},get_template:function(t){var i=this.template.clone();for(var e in t)i.find('[data-fontupload-slug="'+e+'"]').val(t[e]);return i.find(".gdlr-core-html-option-font-upload-button").click(function(){var i=s(this).siblings(".gdlr-core-html-option-font-upload-title"),e=wp.media({title:html_option_val.text.upload_media,button:{text:html_option_val.text.choose_media},multiple:!1}).on("select",function(){var t=e.state().get("selection").first().toJSON();i.val(t.url).trigger("change")}).open()}),i},update_data:function(){var i=this;i.values=[],i.font_container.find(".gdlr-core-html-option-font-upload-template").each(function(){var t={};s(this).find("[data-fontupload-slug]").each(function(){t[s(this).attr("data-fontupload-slug")]=s(this).val()}),i.values.push(t)}),i.container.data("value",i.values)}}}(jQuery);